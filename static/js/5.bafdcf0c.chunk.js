(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{38:function(e,t,r){"use strict";var n=r(40),a=r.n(n),c=r(41),s=r(42),o=r.n(s),i=r(16);function u(){return(u=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,o()(r,t);case 4:return n=e.sent,c=n.data,e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},e.next=4,o()(r,t);case 4:return n=e.sent,c=n.data,e.abrupt("return",c.cast);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},e.next=4,o()(r,t);case 4:return n=e.sent,c=n.data,e.abrupt("return",c.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"search/movie",params:{query:t}},e.next=4,o()(r);case 4:if(n=e.sent,0!==(c=n.data).results.length){e.next=9;break}return i.b.warn("No results were found for your search."),e.abrupt("return");case 9:return e.abrupt("return",c.results);case 12:e.prev=12,e.t0=e.catch(0),new Error("No response from server");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}o.a.defaults.baseURL="https://api.themoviedb.org/3/",o.a.defaults.params={api_key:"f2c48f8e3f2e8ceb9b5f5ca977db990f",language:"en-US"};var b={fetchPopularMovies:function(){var e=Object(c.a)(a.a.mark((function e(){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"trending/movie/week"},e.next=4,o()(t);case 4:return r=e.sent,n=r.data,e.abrupt("return",n.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),fetchMovieInfo:function(e){return u.apply(this,arguments)},fetchMoviesCast:function(e){return p.apply(this,arguments)},fetchMovieReviews:function(e){return l.apply(this,arguments)},fetchMoviesByQuery:function(e){return f.apply(this,arguments)}};t.a=b},72:function(e,t,r){e.exports={btn:"MovieInfo_btn__cuMle",wrapper:"MovieInfo_wrapper__19a0I",poster:"MovieInfo_poster__3nHaq",movie_title:"MovieInfo_movie_title__s2GY2",cast:"MovieInfo_cast__1br1Q",reviews:"MovieInfo_reviews__1dVFi",fallback:"MovieInfo_fallback__2Qmzg"}},74:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,"default",(function(){return O}));var s=r(39),o=r(0),i=r(2),u=r(8),p=r(38),l=r(72),f=r.n(l),b=r.p+"static/media/default.2e01288c.jpg",j=r(1),v=Object(o.lazy)((function(){return r.e(7).then(r.bind(null,76))})),h=Object(o.lazy)((function(){return r.e(8).then(r.bind(null,78))})),O=function(){var e=Object(i.i)().movieId,t=Object(i.j)(),r=t.url,n=t.path,a=Object(i.g)(),l=Object(o.useState)(null),O=Object(s.a)(l,2),d=O[0],m=O[1],w=Object(o.useState)(!1),x=Object(s.a)(w,2),_=x[0],y=x[1],g=Object(o.useState)(!1),k=Object(s.a)(g,2),N=k[0],M=k[1],I=Object(i.h)();Object(o.useEffect)((function(){p.a.fetchMovieInfo(e).then(m)}),[e]);var P=I.pathname.split("/")[3];return Object(o.useEffect)((function(){"reviews"===P?M(!0):"cast"===P&&y(!0)}),[P]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){var e;a.push((null===I||void 0===I||null===(e=I.state)||void 0===e?void 0:e.from)||a.push("/"))},className:f.a.btn,children:"Come back"}),d&&Object(j.jsxs)("div",{className:f.a.wrapper,children:[d.poster_path?Object(j.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(d.poster_path),alt:d.title,className:f.a.poster}):Object(j.jsx)("img",{src:b,alt:"Was not found",className:f.a.poster}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{className:f.a.movie_title,children:[d.title,"(",d.release_date.split("-")[0],")"]}),Object(j.jsxs)("span",{children:["User score: ",10*d.vote_average,"%"]}),Object(j.jsx)("h3",{children:"Overview"}),Object(j.jsx)("span",{children:d.overview}),Object(j.jsx)("h3",{children:"Genres"}),Object(j.jsx)("span",{children:d.genres.map((function(e){return e.name})).join(" ")}),Object(j.jsx)("h3",{children:"Additional information"}),Object(j.jsxs)("ul",{className:f.a.wrapper,children:[Object(j.jsx)("li",{children:Object(j.jsx)(u.c,{to:{pathname:"".concat(r,"/cast"),state:c({},I.state)},onClick:function(){!0===N&&M(!1),y(!0)},className:f.a.cast,children:"Cast"})}),Object(j.jsx)("li",{children:Object(j.jsx)(u.c,{to:{pathname:"".concat(r,"/reviews"),state:c({},I.state)},onClick:function(){!0===_&&y(!1),M(!0)},className:f.a.reviews,children:"Reviews"})})]}),Object(j.jsxs)(o.Suspense,{fallback:Object(j.jsx)("h2",{className:f.a.fallback,children:"Loading..."}),children:[Object(j.jsx)(i.b,{path:"".concat(n,"/:cast"),children:d&&_&&Object(j.jsx)(v,{})}),Object(j.jsx)(i.b,{path:"".concat(n,"/:reviews"),children:d&&N&&Object(j.jsx)(h,{})})]})]})]})]})}}}]);
//# sourceMappingURL=5.bafdcf0c.chunk.js.map
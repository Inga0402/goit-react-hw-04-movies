(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[6],{38:function(e,t,r){"use strict";var a=r(40),n=r.n(a),s=r(41),c=r(42),o=r.n(c),u=r(16);function i(){return(i=Object(s.a)(n.a.mark((function e(t){var r,a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,o()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=Object(s.a)(n.a.mark((function e(t){var r,a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},e.next=4,o()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s.cast);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=Object(s.a)(n.a.mark((function e(t){var r,a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},e.next=4,o()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function f(){return(f=Object(s.a)(n.a.mark((function e(t){var r,a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"search/movie",params:{query:t}},e.next=4,o()(r);case 4:if(a=e.sent,0!==(s=a.data).results.length){e.next=9;break}return u.b.warn("No results were found for your search."),e.abrupt("return");case 9:return e.abrupt("return",s.results);case 12:e.prev=12,e.t0=e.catch(0),new Error("No response from server");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}o.a.defaults.baseURL="https://api.themoviedb.org/3/",o.a.defaults.params={api_key:"f2c48f8e3f2e8ceb9b5f5ca977db990f",language:"en-US"};var v={fetchPopularMovies:function(){var e=Object(s.a)(n.a.mark((function e(){var t,r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={url:"trending/movie/week"},e.next=4,o()(t);case 4:return r=e.sent,a=r.data,e.abrupt("return",a.results);case 9:e.prev=9,e.t0=e.catch(0),new Error("No response from server");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),fetchMovieInfo:function(e){return i.apply(this,arguments)},fetchMoviesCast:function(e){return p.apply(this,arguments)},fetchMovieReviews:function(e){return l.apply(this,arguments)},fetchMoviesByQuery:function(e){return f.apply(this,arguments)}};t.a=v},71:function(e,t,r){e.exports={form:"MoviePage_form__dPS7Z",input:"MoviePage_input__l5U1y",btn:"MoviePage_btn__l1QoS",list:"MoviePage_list__2Z1fL",list_item:"MoviePage_list_item__pFMLa",poster:"MoviePage_poster__1UavF",link:"MoviePage_link__1ByRc"}},75:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var a=r(39),n=r(0),s=r(2),c=r(8),o=r(16),u=r.p+"static/media/default.2e01288c.jpg",i=r(38),p=r(71),l=r.n(p),f=r(1),v=function(){var e=Object(n.useState)(null),t=Object(a.a)(e,2),r=t[0],p=t[1],v=Object(n.useState)(""),h=Object(a.a)(v,2),m=h[0],b=h[1],j=Object(s.j)().url,d=Object(n.useState)(""),w=Object(a.a)(d,2),_=w[0],O=w[1],g=Object(s.h)(),x=Object(s.g)(),y=g.search.split("=")[1];return Object(n.useEffect)((function(){var e=function(){i.a.fetchMoviesByQuery(_||y).then(p)};(_||""!==g.search)&&e()}),[_,g.search,y]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==m)O(m),x.push({pathname:g.pathname,search:"query=".concat(m)}),b("");else if(""===m)return void o.b.error("Please enter your query.")},className:l.a.form,children:[Object(f.jsx)("input",{type:"text",autoComplete:"off",placeholder:"Search movies",value:m,onChange:function(e){b(e.currentTarget.value.toLowerCase())},className:l.a.input}),Object(f.jsx)("button",{type:"submit",className:l.a.btn,children:"Search"})]}),r&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("ul",{className:l.a.list,children:r.map((function(e){var t=e.title,r=e.id,a=e.poster_path;return Object(f.jsx)("li",{className:l.a.list_item,children:Object(f.jsxs)(c.c,{to:{pathname:"".concat(j,"/").concat(r),state:{from:"".concat(j).concat(g.search)}},className:l.a.link,children:[a?Object(f.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(a),alt:"Movie poster",className:l.a.poster}):Object(f.jsx)("img",{src:u,alt:"Was not found",className:l.a.poster}),t]})},r)}))})})]})}}}]);
//# sourceMappingURL=6.1416f145.chunk.js.map